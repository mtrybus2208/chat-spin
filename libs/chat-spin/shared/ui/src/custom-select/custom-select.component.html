<div class="label">
  <span class="label-text">{{ label() }}</span>
</div>
<button
  #selectTriggerRef="libCustomSelectTriggerFor"
  class="select select-bordered w-full flex items-center"
  role="combobox"
  aria-label="select button"
  aria-haspopup="listbox"
  aria-expanded="false"
  [attr.aria-expanded]="selectTriggerRef.isDropdownOpen()"
  aria-controls="select-dropdown"
  [libCustomSelectTriggerFor]="dropdown"
  (keydown)="onKeyDown($event)"
>
  <span class="select__selected">{{ value()?.label || placeholder() }}</span>
</button>
<div class="label">
  <span class="label-text-alt">{{ hint() }}</span>
</div>

<lib-custom-select-list #dropdown (keydown)="onKeyDown($event)">
  @for(option of options(); track option.value) {
  <lib-custom-select-option [option]="option" (click)="selectOption(option)">
    {{ option.label }}
  </lib-custom-select-option>
  }
</lib-custom-select-list>
